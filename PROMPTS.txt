우선 클라우드 서버 환경에서 실행될 메인 프로그램이 필요할거 같아. 그걸 main_cmd 로 만들자.

[main_gui.py]
이 스크립트는 자동매매 엔진(`main_cmd.py`)의 전략을 설정하고 실행 로그를 모니터링하기 위한 데스크톱 GUI 애플리케이션.

# GUI 화면 개선 요청
1. Strategy Configuration 과 Log Viewer 를 서로 다른 탭으로 분리하고 명칭은 Configuration 과 Log Viewer 로 지정
2. Configuration 탭의 "Simple Buy/Sell Conditions" 부분을 "General Settings" 섹션에 통합
3. Configuration 탭의 매수/매도 조건 섹션에서 "(기술적 분석)" 이란 용어는 삭제하고 기술지표는 당장은 필요없으니 지울 것
4. Configuration 탭의 배치는 "General Settings", "매수 조건", "매도 조건" 순으로 동일 폭의 3열로 배치
5. Configuration 탭의 "Save Configuration" 버튼은 우측 상단에 파란색으로 폭은 과하지 않게 표시
6. Log Viewer 탭의 필터 콤보박스는 "사이클 ID 필터:" 우측에 붙여서 표시하고 "로그 새로고침" 버튼은 파란색 적절한 폭으로 우측 배치


[main_cmd.py]
이 프로그램은 실행되면 초기 접속부터 모든 실행 로그를 터미널에 표시해서 관리자가 볼 수 있게 해야해. 마치 main_gui 가 로그창에 표시하듯이.
일반적인 리눅스 프로그램처럼 백그라운드로 실행할 수 있어야하고 터미널 명령어로 현재 상태나 로그를 확인할 수 있어야 해.
위 기능이 리눅스 명령어로 처리 가능하다면 실행 방법을 본 프로그램 내부에 상세하게 주석을 달아줘.

이 프로그램의 핵심 기능은 정해진 조건(condition)에 따라 거래(trade) 로직을 실행하는 거야.
조건과 거래도 별도 프로그램으로 분리하고 싶어.

조건과 거래는 몇 가지 유형이 존재할거야. 가령 조건의 경우 거래시간, 대상종목, 시장환경 등이 있을거야.
거래도 마찬가지로 매수를 할건지, 매도를 할건지, 보유를 할건지 몇가지 유형이 나뉠거야.
하지만 너무 디테일하게는 정하지 않을거야. 그러면 너무 복잡해져서 이해하기 어려워.

일반적으로는 조건을 통과하면 거래를 선택하겠지만 난 반대로 하면 좋겠어.
다시 말해 매수, 매도, 보유를 먼저 결정하고 조건1,2,3,.. 을 모두 통과하면 최종 거래가 이루어지도록 말이야.


[condition.py]
조건은 정의된 순서에 따라 위에서 부터 아래로 체크하면서 진행하는데
각 조건에서 매수할건지 매도할건지 아니면 다음 조건을 따질건지를 판단한다.

가장 첫번째 조건은 지정 매매 조건으로 config.json 에서 정한 매수, 매도를 강제 실행한다.
그러기 위해서는 config.json 에 매매구분, 종목코드, 매매수량, 매매단가 등을 정할 수 있는 카테고리가 있어야 하고
매매구분을 지정하지 않을 경우는 자동으로 다음 조건을 확인하도록 한다.

이후 조건부터는 매매 환경을 체크하는 조건들이야.

두번째 조건은 시장 환경(S&P500, 코스피, 코스닥 등)을 체크하는 함수가 필요해.




[trade.py]
condition 에 의해 호출되며 매수와 매도만 처리한다.

가장 첫번째 매수전략은 지정된 매수 조건을 config.json 에서 읽어와서 처리한다.
지정된 매매단가 가 현재가 보다 높을 경우는 시장가로 매수하고 그 외는 지정단가로 매수한다.
매매금액은 매매수량 곱하기 매매단가로 계산하는데 매매 가능금액을 초과할 수 없도록 한다.
시장가로 매매할 경우는 매매 가능금액 나누기 현재가로 매매수량을 결정해서 주문을 넣는다.

그리고 첫번째 매도전략도 지정된 매도 조건을 config.json 에서 읽어와서 처리한다.
지정된 매매단가 가 현재가 보다 낮을 경우는 시장가로 매도하고 그 외는 지정단가로 매도한다.
매수전략과 유사한데 매매 가능금액 대신 해당 종목 보유금액을 적용하는게 다른 부분이다.

